{"ast":null,"code":"import _slicedToArray from \"/Users/julian/Documents/Projects/2d-test/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/julian/Documents/Projects/2d-test/src/characters/ProtCharacter.js\";\nimport React, { useState, useEffect } from 'react';\nimport prot from '../assets/sprites/prot.png';\nimport { Sprite } from 'react-konva';\nexport default (props => {\n  const _useState = useState(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        image = _useState2[0],\n        setImage = _useState2[1];\n\n  const _useState3 = useState(0),\n        _useState4 = _slicedToArray(_useState3, 2),\n        spriteX = _useState4[0],\n        setSpriteX = _useState4[1];\n\n  const sprite = React.createRef();\n  useEffect(() => {\n    const img = new window.Image();\n    img.src = prot;\n\n    img.onload = () => {\n      setImage(img);\n    };\n  });\n  window.addEventListener('keydown', event => {\n    if (event.keyCode === 37) {\n      setSpriteX(spriteX - 5); //LEFT\n\n      if (sprite.current) {\n        sprite.current.start();\n      }\n    } else if (event.keyCode === 39) {\n      setSpriteX(spriteX + 5); //RIGHT\n    }\n  });\n  const animations = {\n    idle: [//  x  y  w   h\n    0, 0, 30, 40, 30, 0, 30, 40, 60, 0, 30, 40 // 90, 0, 30, 40,\n    // 120, 0, 30, 40\n    ],\n    punch: [160, 3, 30, 40, 190, 3, 30, 40, 220, 3, 30, 40]\n  };\n  return React.createElement(Sprite, {\n    ref: sprite,\n    x: spriteX,\n    y: image ? props.y - image.height * 5 + 30 : 0,\n    scaleX: 5,\n    scaleY: 5,\n    image: image,\n    animation: \"idle\",\n    animations: animations,\n    frameRate: 5,\n    frameIndex: 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  });\n});","map":{"version":3,"sources":["/Users/julian/Documents/Projects/2d-test/src/characters/ProtCharacter.js"],"names":["React","useState","useEffect","prot","Sprite","props","image","setImage","spriteX","setSpriteX","sprite","createRef","img","window","Image","src","onload","addEventListener","event","keyCode","current","start","animations","idle","punch","y","height"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,IAAP,MAAiB,4BAAjB;AACA,SAASC,MAAT,QAAuB,aAAvB;AAEA,gBAAeC,KAAK,IAAI;AAAA,oBACMJ,QAAQ,CAAC,IAAD,CADd;AAAA;AAAA,QACbK,KADa;AAAA,QACNC,QADM;;AAAA,qBAEUN,QAAQ,CAAC,CAAD,CAFlB;AAAA;AAAA,QAEbO,OAFa;AAAA,QAEJC,UAFI;;AAGpB,QAAMC,MAAM,GAAGV,KAAK,CAACW,SAAN,EAAf;AAEAT,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMU,GAAG,GAAG,IAAIC,MAAM,CAACC,KAAX,EAAZ;AACAF,IAAAA,GAAG,CAACG,GAAJ,GAAUZ,IAAV;;AACAS,IAAAA,GAAG,CAACI,MAAJ,GAAa,MAAM;AACfT,MAAAA,QAAQ,CAACK,GAAD,CAAR;AACH,KAFD;AAGH,GANQ,CAAT;AAQAC,EAAAA,MAAM,CAACI,gBAAP,CAAwB,SAAxB,EAAmCC,KAAK,IAAI;AACxC,QAAIA,KAAK,CAACC,OAAN,KAAkB,EAAtB,EAA0B;AACtBV,MAAAA,UAAU,CAACD,OAAO,GAAG,CAAX,CAAV,CADsB,CACG;;AACzB,UAAIE,MAAM,CAACU,OAAX,EAAoB;AAChBV,QAAAA,MAAM,CAACU,OAAP,CAAeC,KAAf;AACH;AACJ,KALD,MAMK,IAAIH,KAAK,CAACC,OAAN,KAAkB,EAAtB,EAA0B;AAC3BV,MAAAA,UAAU,CAACD,OAAO,GAAG,CAAX,CAAV,CAD2B,CACF;AAC5B;AACJ,GAVD;AAYA,QAAMc,UAAU,GAAG;AACfC,IAAAA,IAAI,EAAE,CACF;AACA,KAFE,EAEC,CAFD,EAEI,EAFJ,EAEQ,EAFR,EAGF,EAHE,EAGE,CAHF,EAGK,EAHL,EAGS,EAHT,EAIF,EAJE,EAIE,CAJF,EAIK,EAJL,EAIS,EAJT,CAKF;AACA;AANE,KADS;AASfC,IAAAA,KAAK,EAAE,CACH,GADG,EACE,CADF,EACK,EADL,EACS,EADT,EAEH,GAFG,EAEE,CAFF,EAEK,EAFL,EAES,EAFT,EAGH,GAHG,EAGE,CAHF,EAGK,EAHL,EAGS,EAHT;AATQ,GAAnB;AAgBA,SAAO,oBAAC,MAAD;AACH,IAAA,GAAG,EAAEd,MADF;AAEH,IAAA,CAAC,EAAEF,OAFA;AAGH,IAAA,CAAC,EAAEF,KAAK,GAAGD,KAAK,CAACoB,CAAN,GAAWnB,KAAK,CAACoB,MAAN,GAAe,CAA1B,GAA+B,EAAlC,GAAuC,CAH5C;AAIH,IAAA,MAAM,EAAE,CAJL;AAKH,IAAA,MAAM,EAAE,CALL;AAMH,IAAA,KAAK,EAAEpB,KANJ;AAOH,IAAA,SAAS,EAAC,MAPP;AAQH,IAAA,UAAU,EAAEgB,UART;AASH,IAAA,SAAS,EAAE,CATR;AAUH,IAAA,UAAU,EAAE,CAVT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AAYH,CArDD","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport prot from '../assets/sprites/prot.png'\nimport { Sprite } from 'react-konva';\n\nexport default props => {\n    const [image, setImage] = useState(null);\n    const [spriteX, setSpriteX] = useState(0);\n    const sprite = React.createRef();\n\n    useEffect(() => {\n        const img = new window.Image();\n        img.src = prot\n        img.onload = () => {\n            setImage(img)\n        }\n    })\n\n    window.addEventListener('keydown', event => {\n        if (event.keyCode === 37) {\n            setSpriteX(spriteX - 5); //LEFT\n            if (sprite.current) {\n                sprite.current.start();\n            }\n        }\n        else if (event.keyCode === 39) {\n            setSpriteX(spriteX + 5); //RIGHT\n        }\n    });\n\n    const animations = {\n        idle: [\n            //  x  y  w   h\n            0, 0, 30, 40,\n            30, 0, 30, 40,\n            60, 0, 30, 40\n            // 90, 0, 30, 40,\n            // 120, 0, 30, 40\n        ],\n        punch: [\n            160, 3, 30, 40,\n            190, 3, 30, 40,\n            220, 3, 30, 40\n        ]\n    }\n\n    return <Sprite\n        ref={sprite}\n        x={spriteX}\n        y={image ? props.y - (image.height * 5) + 30 : 0}\n        scaleX={5}\n        scaleY={5}\n        image={image}\n        animation='idle'\n        animations={animations}\n        frameRate={5}\n        frameIndex={0}\n    />\n}"]},"metadata":{},"sourceType":"module"}